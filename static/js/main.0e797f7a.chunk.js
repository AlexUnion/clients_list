(this.webpackJsonpclient_list=this.webpackJsonpclient_list||[]).push([[0],{17:function(e,t,n){e.exports={container:"modal_container__Aoztu",btn:"modal_btn__1NFiP"}},25:function(e,t,n){e.exports={edit:"listItem_edit__1tDLK"}},26:function(e,t,n){e.exports={anim:"addButton_anim__SsY-E",appearance:"addButton_appearance__9EWTG"}},28:function(e,t,n){e.exports={in:"notification_in__x_9aZ","right-in":"notification_right-in__1QP4v"}},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(24),c=n.n(r),s=n(46),o=n(27),l=n(5),d=n.n(l),u=n(6),m=n(7),j=n(16),b=n(12),f=n(47),v=n(21),x=n(25),h=n.n(x),p=n(29),O=n(1);var N=function(e){var t=e.id,n=e.description,a=e.name,i=e.register,r=e.value||"",c=e.placeHolder||"";return Object(O.jsx)("div",{className:"w-4/5 m-auto",children:Object(O.jsxs)("label",{htmlFor:t,children:[Object(O.jsx)("div",{className:"mt-2 px-2 text-left cursor-pointer",children:n}),Object(O.jsx)("input",{className:"mb-2 mt-1 py-2 px-8 rounded-md bg-gray-200 ml-0 w-full focus-within:bg-gray-300",type:"text",autoComplete:"off",id:t,name:a,defaultValue:r,ref:i,placeholder:c})]})})},g=n(17),y=n.n(g);var w=function(e){var t=e.message;return Object(O.jsxs)("div",{className:"text-red-800 text-sm",children:["* ",t]})};var _=function(e){var t,n,a,i,r,c,s=e.title,o=e.user,l=e.handleCancel,d=e.onSubmit,u=Object(p.a)(),m=u.register,j=u.handleSubmit,b=u.errors;return Object(O.jsx)("div",{className:"overflow-hidden w-screen h-screen fixed top-0 left-0 right-0 bottom-0 ".concat(y.a.container),children:Object(O.jsxs)("div",{className:"fixed bg-white w-1/2 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-xl",children:[Object(O.jsx)("h3",{className:"text-3xl my-2",children:s}),Object(O.jsxs)("form",{action:"",onSubmit:j(d),children:[Object(O.jsx)(N,{id:"firstName",name:"firstName",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",placeHolder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",register:m({required:!0,minLength:2}),value:null===o||void 0===o?void 0:o.firstName}),"required"===(null===(t=b.firstName)||void 0===t?void 0:t.type)&&Object(O.jsx)(w,{message:"\u042d\u0442\u043e \u043e\u0431\u0435\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),("minLength"===(null===(n=b.firstName)||void 0===n?void 0:n.type)||"maxLength"===(null===(a=b.firstName)||void 0===a?void 0:a.type))&&Object(O.jsx)(w,{message:"\u041d\u0435\u043a\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 \u0438\u043c\u0435\u043d\u0438"}),Object(O.jsx)(N,{id:"lastName",name:"lastName",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",placeHolder:"\u0412\u0430\u0448\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u044f",register:m({required:!0,minLength:2}),value:null===o||void 0===o?void 0:o.lastName}),"required"===(null===(i=b.lastName)||void 0===i?void 0:i.type)&&Object(O.jsx)(w,{message:"\u042d\u0442\u043e \u043e\u0431\u0435\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"}),("minLength"===(null===(r=b.lastName)||void 0===r?void 0:r.type)||"maxLength"===(null===(c=b.lastName)||void 0===c?void 0:c.type))&&Object(O.jsx)(w,{message:"\u041d\u0435\u043a\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 \u0444\u0430\u043c\u0438\u043b\u0438\u0438"}),Object(O.jsx)(N,{id:"phone",name:"phone",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",placeHolder:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",register:m,value:null===o||void 0===o?void 0:o.phone}),Object(O.jsx)(N,{id:"avatarUrl",name:"avatarUrl",description:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 URL \u0430\u0434\u0440\u0435\u0441\u0441 \u0432\u0430\u0448\u0435\u0439 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0438",placeHolder:"URL",register:m,value:null===o||void 0===o?void 0:o.avatarUrl}),Object(O.jsxs)("div",{className:"flex justify-end m-3",children:[Object(O.jsx)("button",{className:"bg-green-500 ".concat(y.a.btn," hover:bg-green-600"),type:"submit",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(O.jsx)("button",{className:"bg-red-500 ".concat(y.a.btn," hover:bg-red-600"),onClick:l,type:"button",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})})},C=i.a.createContext({notification:null,addNotification:function(){},removeNotification:function(){}});function k(e){var t=e.children,n=Object(a.useState)(null),i=Object(u.a)(n,2),r=i[0],c=i[1],s={notification:r,addNotification:Object(a.useCallback)((function(e,t){return function(e,t){return c({message:e,status:t})}(e,t)}),[]),removeNotification:Object(a.useCallback)((function(){r&&c(null)}),[])};return Object(O.jsx)(C.Provider,{value:s,children:t})}var U,q=function(){var e=Object(a.useContext)(C);return{addNotification:e.addNotification,notification:e.notification,removeNotification:e.removeNotification}},S=function(){document.body.style.overflow="auto"},L=function(){document.body.style.overflow="hidden"},z="https://test-task.expane.pro/api/graphql";var E=function(e){var t=e.user,n=Object(a.useState)(!1),i=Object(u.a)(n,2),r=i[0],c=i[1],s=q(),o=s.addNotification,l=s.removeNotification,d=function(){S(),c(!1)},m=t.avatarUrl||"https://eitrawmaterials.eu/wp-content/uploads/2016/09/person-icon.png";return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"bg-gray-100 p-6 flex flex-shrink space-x-4 mb-1 rounded-xl justify-around items-center",children:[Object(O.jsx)("div",{className:"w-1/5",children:Object(O.jsx)("img",{src:m,alt:"",className:"h-12 w-12 rounded-xl"})}),Object(O.jsxs)("div",{className:"w-3/5",children:[Object(O.jsxs)("div",{id:t.id,children:[t.firstName,"\xa0",t.lastName]}),Object(O.jsx)("div",{children:t.phone||"\u041d\u043e\u043c\u0435\u0440 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})]}),Object(O.jsx)("div",{className:"w-1/5",children:Object(O.jsx)("div",{className:"h-6 w-6 ml-auto mr-0 cursor-pointer ".concat(h.a.edit),onClick:function(){L(),c(!0)}})})]}),r?Object(O.jsx)(_,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",user:t,handleCancel:d,onSubmit:function(e){l();var n=function(e){var t=e.id,n=e.firstName,a=e.lastName,i=e.phone||"",r=e.avatarUrl||"";return Object(b.gql)(U||(U=Object(j.a)(["\n    mutation{\n        updateClient(id: ",', \n        firstName: "','", \n        lastName: "','", \n        phone: "','",\n        avatarUrl: "','"){\n            firstName: firstName,\n            lastName: lastName,\n            phone: phone,\n            avatarUrl: avatarUrl\n        }\n    }'])),t,n,a,i,r)}(Object(v.a)(Object(v.a)({},e),{},{id:t.id}));Object(b.request)(z,n).then((function(e){o("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d","success"),d()}),(function(e){console.error(e),o("\u041e\u0448\u0438\u0431\u043a\u0430","error"),d()}))}}):null]})};var H=function(e){var t=e.data;return Object(O.jsx)("div",{className:"max-w-lg mx-auto z-0",children:t.map((function(e){var t=e.id;return Object(O.jsx)(E,{user:e},t)}))})},F=n.p+"static/media/add.02bb88b6.svg",B=n(26),P=n.n(B);var A,I,J=function(e){var t=e.onClick;return Object(O.jsx)("div",{className:"".concat(P.a.anim," w-10 h-10 fixed top-6 right-6 cursor-pointer z-0"),onClick:t,children:Object(O.jsx)("img",{src:F,alt:"add new user"})})},R=(n(41),Object(b.gql)(A||(A=Object(j.a)(["\n  query{\n  getClients{\n    id,\n    firstName,\n    lastName,\n    phone,\n    avatarUrl\n  }\n}"]))));function D(){return G.apply(this,arguments)}function G(){return(G=Object(m.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.request)(z,R);case 2:return t=e.sent,n=t.getClients,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],i=t[1],r=q(),c=r.addNotification,s=r.removeNotification,o=Object(f.a)("todos",D),l=o.data,d=o.error;Object(a.useEffect)((function(){d&&(console.error(d),c("\u0423\u043f\u0441... \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a","error"))}),[c,d]),Object(a.useEffect)((function(){n?L():S()}),[n]);var m=function(){return i(!1)};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("div",{className:"my-4 text-3xl text-left max-w-xl mx-auto p-4 bg-gray-100 text-gray-900 rounded-md z-0",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),l?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(H,{data:l}),Object(O.jsx)(J,{onClick:function(){return i(!0)}})]}):Object(O.jsx)("div",{className:"my-6 text-lg",children:"loading"}),n?Object(O.jsx)(_,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",handleCancel:m,onSubmit:function(e){var t=e.firstName,n=e.lastName,a=e.phone,i=e.avatarUrl;m(),s();var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object(b.gql)(I||(I=Object(j.a)(['\n    mutation{\n        addClient(firstName: "','", \n            lastName: "','", \n            phone: "','", \n            avatarUrl: "','") {\n                firstName: firstName,\n                lastName: lastName,\n                phone: phone,\n                avatarUrl: avatarUrl        \n        }  \n    }'])),e,t,n,a)}(t,n,a,i);Object(b.request)(z,r).then((function(){c("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d","success")}),(function(e){console.error(null===e||void 0===e?void 0:e.message),c("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438","error")}))}}):null]})},M=(n(42),n(28)),Q=n.n(M);var T=function(){var e=q(),t=e.notification,n=e.removeNotification,a=["fixed rounded-md bottom-8 right-6 p-4 cursor-pointer z-10",Q.a.in];if(!t)return null;switch(t.status){case"success":a.push("bg-green-300");break;case"error":a.push("bg-red-300");break;default:a.push("bg-gray-300")}return Object(O.jsxs)("div",{className:a.join(" "),onClick:function(){return n()},children:[Object(O.jsx)("div",{className:"pb-2 text-lg text-gray-900",children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"}),Object(O.jsx)("div",{className:"text-gray-800",children:Object(O.jsx)("div",{children:t.message})})]})},V=new s.a;c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(o.a,{client:V,children:Object(O.jsxs)(k,{children:[Object(O.jsx)(K,{}),Object(O.jsx)(T,{})]})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.0e797f7a.chunk.js.map